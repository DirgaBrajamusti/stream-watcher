import{r as c,M as fe,_ as ge,c as Z,a as K,t as ee,v as re,j as b,d as R,B as ve,R as k,D as be,G as M,H as ye,T as he,J as L}from"./index.99f7ff00.js";import{I as E,a as xe,b as me,c as Se}from"./config.0102e8f8.js";var _e=c.exports.useLayoutEffect,we=function(r){var t=c.exports.useRef(r);return _e(function(){t.current=r}),t},D=function(r,t){if(typeof r=="function"){r(t);return}r.current=t},ze=function(r,t){var o=c.exports.useRef();return c.exports.useCallback(function(a){r.current=a,o.current&&D(o.current,null),o.current=t,t&&D(t,a)},[t])},B={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},A=function(r){Object.keys(B).forEach(function(t){r.style.setProperty(t,B[t],"important")})},d=null,Pe=function(r,t){var o=r.scrollHeight;return t.sizingStyle.boxSizing==="border-box"?o+t.borderSize:o-t.paddingSize};function Oe(e,r,t,o){t===void 0&&(t=1),o===void 0&&(o=1/0),d||(d=document.createElement("textarea"),d.setAttribute("tabindex","-1"),d.setAttribute("aria-hidden","true"),A(d)),d.parentNode===null&&document.body.appendChild(d);var a=e.paddingSize,i=e.borderSize,s=e.sizingStyle,l=s.boxSizing;Object.keys(s).forEach(function(y){var S=y;d.style[S]=s[S]}),A(d),d.value=r;var n=Pe(d,e);d.value="x";var p=d.scrollHeight-a,f=p*t;l==="border-box"&&(f=f+a+i),n=Math.max(f,n);var g=p*o;return l==="border-box"&&(g=g+a+i),n=Math.min(g,n),[n,p]}var X=function(){},Ce=function(r,t){return r.reduce(function(o,a){return o[a]=t[a],o},{})},Re=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Te=!!document.documentElement.currentStyle,$e=function(r){var t=window.getComputedStyle(r);if(t===null)return null;var o=Ce(Re,t),a=o.boxSizing;if(a==="")return null;Te&&a==="border-box"&&(o.width=parseFloat(o.width)+parseFloat(o.borderRightWidth)+parseFloat(o.borderLeftWidth)+parseFloat(o.paddingRight)+parseFloat(o.paddingLeft)+"px");var i=parseFloat(o.paddingBottom)+parseFloat(o.paddingTop),s=parseFloat(o.borderBottomWidth)+parseFloat(o.borderTopWidth);return{sizingStyle:o,paddingSize:i,borderSize:s}},ke=function(r){var t=we(r);c.exports.useLayoutEffect(function(){var o=function(i){t.current(i)};return window.addEventListener("resize",o),function(){window.removeEventListener("resize",o)}},[])},Le=function(r,t){var o=r.cacheMeasurements,a=r.maxRows,i=r.minRows,s=r.onChange,l=s===void 0?X:s,n=r.onHeightChange,p=n===void 0?X:n,f=fe(r,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),g=f.value!==void 0,y=c.exports.useRef(null),S=ze(y,t),v=c.exports.useRef(0),h=c.exports.useRef(),x=function(){var u=y.current,_=o&&h.current?h.current:$e(u);if(!!_){h.current=_;var z=Oe(_,u.value||u.placeholder||"x",i,a),m=z[0],P=z[1];v.current!==m&&(v.current=m,u.style.setProperty("height",m+"px","important"),p(m,{rowHeight:P}))}},w=function(u){g||x(),l(u)};return c.exports.useLayoutEffect(x),ke(x),c.exports.createElement("textarea",ge({},f,{onChange:w,ref:S}))},Ee=c.exports.forwardRef(Le);const He=Ee;var Ie=Z(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}}));const Ne=Ie;var je=Object.defineProperty,Fe=Object.defineProperties,We=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,q=(e,r,t)=>r in e?je(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,O=(e,r)=>{for(var t in r||(r={}))te.call(r,t)&&q(e,t,r[t]);if(T)for(var t of T(r))oe.call(r,t)&&q(e,t,r[t]);return e},H=(e,r)=>Fe(e,We(r)),Me=(e,r)=>{var t={};for(var o in e)te.call(e,o)&&r.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&T)for(var o of T(e))r.indexOf(o)<0&&oe.call(e,o)&&(t[o]=e[o]);return t};const De={autosize:!1,size:"sm",__staticSelector:"Textarea"},ae=c.exports.forwardRef((e,r)=>{const t=K("Textarea",De,e),{autosize:o,maxRows:a,minRows:i,label:s,error:l,description:n,id:p,className:f,required:g,style:y,wrapperProps:S,classNames:v,styles:h,size:x,__staticSelector:w,sx:C,errorProps:u,descriptionProps:_,labelProps:z,inputWrapperOrder:m,inputContainer:P,unstyled:j}=t,le=Me(t,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled"]),F=ee(p),{classes:de,cx:ce}=Ne(),{systemStyles:pe,rest:ue}=re(le),W=O({required:g,ref:r,invalid:!!l,id:F,classNames:H(O({},v),{input:ce(de.input,v==null?void 0:v.input)}),styles:h,__staticSelector:w,size:x,multiline:!0,unstyled:j},ue);return b(E.Wrapper,{...O(O({label:s,error:l,id:F,description:n,required:g,style:y,className:f,classNames:v,styles:h,size:x,__staticSelector:w,sx:C,errorProps:u,labelProps:z,descriptionProps:_,inputContainer:P,inputWrapperOrder:m,unstyled:j},pe),S),children:o?b(E,{...H(O({},W),{component:He,maxRows:a,minRows:i})}):b(E,{...H(O({},W),{component:"textarea",rows:i})})})});ae.displayName="@mantine/core/Textarea";var Be=Object.defineProperty,Ae=Object.defineProperties,Xe=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,qe=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable,V=(e,r,t)=>r in e?Be(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,U=(e,r)=>{for(var t in r||(r={}))qe.call(r,t)&&V(e,t,r[t]);if(G)for(var t of G(r))Ge.call(r,t)&&V(e,t,r[t]);return e},Y=(e,r)=>Ae(e,Xe(r));const Ve={xs:16,sm:20,md:24,lg:30,xl:36},I={xs:30,sm:38,md:46,lg:56,xl:68},J={xs:12,sm:14,md:18,lg:22,xl:28},Ue={xs:5,sm:6,md:7,lg:9,xl:11};var Ye=Z((e,{size:r,radius:t,color:o,offLabel:a,onLabel:i})=>{const s=e.fn.size({size:r,sizes:J}),l=e.fn.size({size:t,sizes:e.radius}),n=e.fn.variant({variant:"filled",color:o});return{root:{display:"flex",alignItems:"center"},input:Y(U({},e.fn.focusStyles()),{overflow:"hidden",WebkitTapHighlightColor:"transparent",position:"relative",borderRadius:l,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[2],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`,height:e.fn.size({size:r,sizes:Ve}),width:e.fn.size({size:r,sizes:I}),minWidth:e.fn.size({size:r,sizes:I}),margin:0,transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:"150ms",boxSizing:"border-box",appearance:"none",display:"flex",alignItems:"center",fontSize:e.fn.size({size:r,sizes:Ue}),fontWeight:600,cursor:e.cursorType,"&::before":{zIndex:1,borderRadius:l,boxSizing:"border-box",content:"''",display:"block",backgroundColor:e.white,height:s,width:s,border:`1px solid ${e.colorScheme==="dark"?e.white:e.colors.gray[3]}`,transition:`transform 150ms ${e.transitionTimingFunction}`,transform:`translateX(${r==="xs"?1:2}px)`,"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":!1}},"&::after":{position:"absolute",zIndex:0,display:"flex",height:"100%",alignItems:"center",lineHeight:0,right:"10%",transform:"translateX(0)",content:a?`'${a}'`:"''",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[6],transition:`color 150ms ${e.transitionTimingFunction}`},"&:checked":{backgroundColor:n.background,borderColor:n.background,"&::before":{transform:`translateX(${e.fn.size({size:r,sizes:I})-e.fn.size({size:r,sizes:J})-(r==="xs"?3:4)}px)`,borderColor:e.white},"&::after":{position:"absolute",zIndex:0,display:"flex",height:"100%",alignItems:"center",lineHeight:0,left:"10%",transform:"translateX(0)",content:i?`'${i}'`:"''",color:e.white,transition:`color 150ms ${e.transitionTimingFunction}`}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],cursor:"not-allowed","&::before":{borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],backgroundColor:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[0]}}}),label:Y(U({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:r,sizes:e.fontSizes}),fontFamily:e.fontFamily,paddingLeft:e.spacing.sm,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType})}});const Je=Ye;var Qe=Object.defineProperty,Ze=Object.defineProperties,Ke=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,ne=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,Q=(e,r,t)=>r in e?Qe(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,N=(e,r)=>{for(var t in r||(r={}))ne.call(r,t)&&Q(e,t,r[t]);if($)for(var t of $(r))ie.call(r,t)&&Q(e,t,r[t]);return e},er=(e,r)=>Ze(e,Ke(r)),rr=(e,r)=>{var t={};for(var o in e)ne.call(e,o)&&r.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&$)for(var o of $(e))r.indexOf(o)<0&&ie.call(e,o)&&(t[o]=e[o]);return t};const tr={offLabel:"",onLabel:"",size:"sm",radius:"xl"},se=c.exports.forwardRef((e,r)=>{const t=K("Switch",tr,e),{className:o,color:a,label:i,offLabel:s,onLabel:l,id:n,style:p,size:f,radius:g,wrapperProps:y,children:S,unstyled:v,styles:h,classNames:x,sx:w}=t,C=rr(t,["className","color","label","offLabel","onLabel","id","style","size","radius","wrapperProps","children","unstyled","styles","classNames","sx"]),{classes:u,cx:_}=Je({size:f,color:a,radius:g,offLabel:s,onLabel:l},{unstyled:v,styles:h,classNames:x,name:"Switch"}),{systemStyles:z,rest:m}=re(C),P=ee(n);return R(ve,{...N(N({className:_(u.root,o),style:p,sx:w},z),y),children:[b("input",{...er(N({},m),{id:P,ref:r,type:"checkbox",className:u.input})}),i&&b("label",{className:u.label,htmlFor:P,children:i})]})});se.displayName="@mantine/core/Switch";const nr=()=>{const e=xe(),r=me(),t=Se(),[o,a]=k.useState(!1),[i,s]=k.useState("");return k.useEffect(()=>{!e.data||(i===""||!o)&&s(e.data)},[e,o]),R(be,{fluid:!0,py:"md",children:[R(M,{pb:"md",position:"apart",children:[R(M,{children:[b(ye,{onClick:()=>{o?t.mutate(i,{onSuccess(){L({message:"Configuration updated",color:"green"})},async onError(n){let p="";n instanceof Response&&(p=await n.text()),L({title:"Error updating configuration",message:p,color:"red",styles:f=>({description:{whiteSpace:"pre"}})}),console.error(n)}}):r.mutate(void 0,{onSuccess(){L({message:"Configuration reloaded",color:"green"})}})},disabled:r.isLoading||t.isLoading,children:t.isLoading?"Saving...":r.isLoading?"Reloading...":o?"Save and apply":"Reload from disk"}),o?null:b(he,{size:"sm",children:"TOML configuration may differ from the one used by the server. Reload the configuration to apply any changes."})]}),b(se,{label:"Enable editing",checked:o,onChange:n=>a(n.currentTarget.checked)})]}),b(ae,{value:i,onChange:n=>s(n.currentTarget.value),autosize:!0,styles:{input:{fontFamily:"monospace"}},disabled:!o||r.isLoading||t.isLoading})]})};export{nr as default};
